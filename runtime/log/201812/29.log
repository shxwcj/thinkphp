[ 2018-12-29T12:01:23+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Member/login?mobile=13058185654&password=123456
[ log ] shop.test/index.php/app/Member/login?mobile=13058185654&password=123456 [运行时间：0.308000s][吞吐率：3.25req/s] [内存消耗：1,488.80kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Member',
    2 => 'login',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '0b9f1e1e-a909-44d0-a3a1-f066180ad849',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'mobile' => '13058185654',
  'password' => '123456',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Member extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Member.php 14-223

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * 用户注册
     * @author wangchunjing
     */
    Method [ <user> public method register ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Member.php 20 - 62
    }

    /**
     * 短信验证码接口
     * @author wangchunjing
     */
    Method [ <user> public method sendsms ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Member.php 69 - 101
    }

    /**
     * 用户登录
     * @author wangchunjing
     */
    Method [ <user> public method login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Member.php 107 - 147
    }

    /**
     * 重置密码
     * @author wangchunjing
     */
    Method [ <user> public method reset_sendsms ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Member.php 155 - 175
    }

    /**
     * 找回密码
     * @author wangchunjing
     */
    Method [ <user> public method resetPassword ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Member.php 182 - 192
    }

    /**
     * 修改密码
     * @author wangchunjing
     */
    Method [ <user> public method updatePassword ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Member.php 199 - 210
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * 用户登录
     * @author wangchunjing
     */
Method [ <user> public method login ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Member.php 107 - 147
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.028000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member` [ RunTime:0.037000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member` WHERE  `mobile` = '13058185654'  AND `password` = 'e10adc3949ba59abbe56e057f20f883e' LIMIT 1     [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.026000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `mid` = 22 LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] UPDATE `oc_tokens`  SET `deviceid`='',`token`='29895294017e9bd2b13c37d7235c136662697221'  WHERE  `mid` = 22      [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T12:02:01+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.044000s][吞吐率：22.73req/s] [内存消耗：1,560.95kb] [文件加载：40]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '7bac92cb-9d4c-4911-87b5-e036eeaa456e',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-276

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 257
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 257
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T12:30:17+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.135000s][吞吐率：7.41req/s] [内存消耗：1,617.80kb] [文件加载：45]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '27156707-3025-4b61-87a7-bdefc831d836',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-301

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.017000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.010000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.001000s ]
[ error ] [8192]The each() function is deprecated. This message will be suppressed on further calls[D:\phpStudy\PHPTutorial\WWW\thinkphp\extend\Alipay\alipaycore.php:19]

---------------------------------------------------------------
[ 2018-12-29T12:31:55+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.040000s][吞吐率：25.00req/s] [内存消耗：1,617.77kb] [文件加载：45]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '7a4e8cb5-c52a-4c97-9467-bc5c30f2f201',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-301

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.000000s ]
[ error ] [2]count(): Parameter must be an array or an object that implements Countable[D:\phpStudy\PHPTutorial\WWW\thinkphp\extend\Alipay\alipaycore.php:25]

---------------------------------------------------------------
[ 2018-12-29T12:37:47+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.043000s][吞吐率：23.26req/s] [内存消耗：1,617.77kb] [文件加载：45]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'ecaaaaf4-56be-4230-b022-5ad7dd380f53',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-301

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.009000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.001000s ]
[ error ] [2]count(): Parameter must be an array or an object that implements Countable[D:\phpStudy\PHPTutorial\WWW\thinkphp\extend\Alipay\alipaycore.php:25]

---------------------------------------------------------------
[ 2018-12-29T12:38:53+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.038000s][吞吐率：26.32req/s] [内存消耗：1,617.80kb] [文件加载：45]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '494f52de-8656-4c23-9ac8-5ead41b7c8c5',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-301

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.011000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.012000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.000000s ]
[ error ] [8192]The each() function is deprecated. This message will be suppressed on further calls[D:\phpStudy\PHPTutorial\WWW\thinkphp\extend\Alipay\alipaycore.php:19]

---------------------------------------------------------------
[ 2018-12-29T12:40:30+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.033000s][吞吐率：30.30req/s] [内存消耗：1,617.73kb] [文件加载：45]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '49207c52-24c7-4da4-99f1-be8ef29c93dc',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-301

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.000000s ]
[ error ] [8]未定义数组下标: 0[D:\phpStudy\PHPTutorial\WWW\thinkphp\extend\Alipay\alipaycore.php:19]

---------------------------------------------------------------
[ 2018-12-29T12:40:54+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.039000s][吞吐率：25.64req/s] [内存消耗：1,617.80kb] [文件加载：45]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'b4d06572-7cb1-4948-aac2-11c3827d2f1a',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-301

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.001000s ]
[ error ] [8192]The each() function is deprecated. This message will be suppressed on further calls[D:\phpStudy\PHPTutorial\WWW\thinkphp\extend\Alipay\alipaycore.php:19]

---------------------------------------------------------------
[ 2018-12-29T12:41:40+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.042000s][吞吐率：23.81req/s] [内存消耗：1,617.77kb] [文件加载：45]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'ef7a7f27-e8dc-4179-b5e2-cf94b6b3a733',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-301

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.012000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.012000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.001000s ]
[ error ] [2]count(): Parameter must be an array or an object that implements Countable[D:\phpStudy\PHPTutorial\WWW\thinkphp\extend\Alipay\alipaycore.php:24]

---------------------------------------------------------------
[ 2018-12-29T12:42:22+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.043000s][吞吐率：23.26req/s] [内存消耗：1,617.76kb] [文件加载：45]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '706a6c45-98f9-436d-9da7-898c1870ccae',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-301

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.000000s ]
[ error ] [8]Array to string conversion[D:\phpStudy\PHPTutorial\WWW\thinkphp\extend\Alipay\alipaycore.php:21]

---------------------------------------------------------------
[ 2018-12-29T12:43:06+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.052000s][吞吐率：19.23req/s] [内存消耗：1,617.77kb] [文件加载：45]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '1ab429f1-883c-4e91-81d4-1c7d729c59f5',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-301

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.011000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.001000s ]
[ error ] [2]count(): Parameter must be an array or an object that implements Countable[D:\phpStudy\PHPTutorial\WWW\thinkphp\extend\Alipay\alipaycore.php:24]

---------------------------------------------------------------
[ 2018-12-29T12:43:38+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.049000s][吞吐率：20.41req/s] [内存消耗：1,564.72kb] [文件加载：40]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '8ddb4a9f-a220-4d04-bfd3-257aa5cc4fd0',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-301

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.011000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.011000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T12:45:59+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.051000s][吞吐率：19.61req/s] [内存消耗：1,564.72kb] [文件加载：40]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'be17fb7c-e632-47de-8aa4-dbf51ae3187a',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-301

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.010000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.014000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T12:46:09+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.046000s][吞吐率：21.74req/s] [内存消耗：1,564.88kb] [文件加载：40]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '6f21a008-5601-4991-827b-49e0c64ebc35',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-301

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.010000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.014000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T12:46:18+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.044000s][吞吐率：22.73req/s] [内存消耗：1,564.72kb] [文件加载：40]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '33ee0ec8-c967-4cd7-9521-d15166107387',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-301

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.013000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.011000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T12:46:37+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.067000s][吞吐率：14.93req/s] [内存消耗：1,565.47kb] [文件加载：40]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '0211d47f-51bc-4a12-98ce-e314b8813dcf',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-301

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.014000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.011000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T12:51:35+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/alipay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.101000s][吞吐率：9.90req/s] [内存消耗：1,565.51kb] [文件加载：40]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '8db92323-d832-44a4-b04c-589020524d13',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-301

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.010000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.010000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T12:58:22+08:00 ] 127.0.0.1 127.0.0.1 GET /index.php/app/Order/alipay_notify_url
[ log ] shop.test/index.php/app/Order/alipay_notify_url [运行时间：0.010000s][吞吐率：100.00req/s] [内存消耗：1,015.77kb] [文件加载：34]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_notify_url',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '4198e195-c6fe-4ad7-827f-35e4ddf3680e',
  'cache-control' => 'no-cache',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-319

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [26] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 301
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_notify_url ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 301
}

[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2018-12-29T13:15:48+08:00 ] 127.0.0.1 127.0.0.1 GET /index.php/app/Order/alipay_notify_url
[ log ] shop.test/index.php/app/Order/alipay_notify_url [运行时间：0.014000s][吞吐率：71.43req/s] [内存消耗：1,073.26kb] [文件加载：39]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_notify_url',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'a8dd7675-4dc3-4a00-bf65-f2735fed59e2',
  'cache-control' => 'no-cache',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-354

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [26] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 336
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_notify_url ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 336
}

[ info ] [ LOG ] INIT File
[ error ] [8]未定义数组索引: notify_id[D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php:297]

---------------------------------------------------------------
[ 2018-12-29T13:17:37+08:00 ] 127.0.0.1 127.0.0.1 GET /index.php/app/Order/alipay_notify_url
[ log ] shop.test/index.php/app/Order/alipay_notify_url [运行时间：0.014000s][吞吐率：71.43req/s] [内存消耗：1,073.32kb] [文件加载：39]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_notify_url',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '760a64fe-b069-4362-8b52-ad432f8391d9',
  'cache-control' => 'no-cache',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-354

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [26] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 336
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_notify_url ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 336
}

[ info ] [ LOG ] INIT File
[ error ] [8]未定义数组索引: notify_id[D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php:297]

---------------------------------------------------------------
[ 2018-12-29T13:19:54+08:00 ] 127.0.0.1 127.0.0.1 GET /index.php/app/Order/alipay_notify_url
[ log ] shop.test/index.php/app/Order/alipay_notify_url [运行时间：0.015000s][吞吐率：66.67req/s] [内存消耗：1,019.01kb] [文件加载：34]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_notify_url',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '9ea66cab-c8e6-43f4-8c31-5bea50762a06',
  'cache-control' => 'no-cache',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-354

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [26] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 336
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_notify_url ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 336
}

[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2018-12-29T13:20:26+08:00 ] 127.0.0.1 127.0.0.1 GET /index.php/app/Order/alipay_notify_url
[ log ] shop.test/index.php/app/Order/alipay_notify_url [运行时间：0.012000s][吞吐率：83.33req/s] [内存消耗：1,018.74kb] [文件加载：34]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_notify_url',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '7fc3af28-27f5-4142-9181-a50ad2d1dd7a',
  'cache-control' => 'no-cache',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-354

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [26] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 336
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_notify_url ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 336
}

[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2018-12-29T14:40:43+08:00 ] 127.0.0.1 127.0.0.1 GET /index.php/app/Order/alipay_notify_url
[ log ] shop.test/index.php/app/Order/alipay_notify_url [运行时间：0.013000s][吞吐率：76.92req/s] [内存消耗：1,073.26kb] [文件加载：39]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_notify_url',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'b19065fb-8011-4fac-ac31-b403a5f27e01',
  'cache-control' => 'no-cache',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-353

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [26] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 335
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_notify_url ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 335
}

[ info ] [ LOG ] INIT File
[ error ] [8]未定义数组索引: notify_id[D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php:296]

---------------------------------------------------------------
[ 2018-12-29T14:43:49+08:00 ] 127.0.0.1 127.0.0.1 GET /index.php/app/Order/alipay_notify_url?notify_id=1
[ log ] shop.test/index.php/app/Order/alipay_notify_url?notify_id=1 [运行时间：0.014000s][吞吐率：71.43req/s] [内存消耗：1,073.95kb] [文件加载：39]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'alipay_notify_url',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'ed200686-b473-4f10-be8b-d1cc9ac74e33',
  'cache-control' => 'no-cache',
)
[ info ] [ PARAM ] array (
  'notify_id' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-353

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [26] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 335
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method alipay_notify_url ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 335
}

[ info ] [ LOG ] INIT File
[ error ] [8]未定义数组索引: notify_id[D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php:296]

---------------------------------------------------------------
[ 2018-12-29T15:20:17+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.050000s][吞吐率：20.00req/s] [内存消耗：1,551.70kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'wxpay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'b48d21ff-6cc1-46d0-9011-8ce6a8ddcbc8',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-370

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [27] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 335
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 355
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method wxpay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 355
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.011000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.012000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T15:31:16+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.067000s][吞吐率：14.93req/s] [内存消耗：1,606.50kb] [文件加载：42]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'wxpay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '9e0becee-6ffc-4b62-9c87-889c489846e0',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-399

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [27] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 335
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 384
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method wxpay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 384
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.000000s ]
[ error ] [0]致命错误: Call to undefined method app\app\controller\Order::getNonceStr()[D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php:365]

---------------------------------------------------------------
[ 2018-12-29T15:35:48+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.032000s][吞吐率：31.25req/s] [内存消耗：1,608.03kb] [文件加载：42]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'wxpay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '41023cd7-1bb6-41ab-9028-617d6227074e',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-413

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [28] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 335
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 384
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 393 - 401

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method wxpay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 384
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.000000s ]
[ error ] [0]致命错误: Call to undefined method app\app\controller\Order::get_client_ip()[D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php:369]

---------------------------------------------------------------
[ 2018-12-29T15:39:16+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.387000s][吞吐率：2.58req/s] [内存消耗：1,583.73kb] [文件加载：40]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'wxpay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'a828ca26-7b2f-4bcc-8a3f-4768026d20ed',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-428

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [29] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 335
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 384
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 393 - 401

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 407 - 419
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method wxpay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 384
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.009000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T15:42:09+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.046000s][吞吐率：21.74req/s] [内存消耗：1,583.45kb] [文件加载：40]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'wxpay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'fae48e94-16f5-437b-839c-596e7a9900b5',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-429

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [29] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 335
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 385
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 394 - 402

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 408 - 420
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method wxpay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 385
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.011000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T15:42:33+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.042000s][吞吐率：23.81req/s] [内存消耗：1,584.08kb] [文件加载：40]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'wxpay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'f07ee21c-c3f7-4c05-ab54-b169a0e17d41',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-429

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [29] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 335
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 385
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 394 - 402

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 408 - 420
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method wxpay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 385
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T15:42:51+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.044000s][吞吐率：22.73req/s] [内存消耗：1,584.08kb] [文件加载：40]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'wxpay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '78bd6593-7be6-4d37-a305-8a7bae13e3e0',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-429

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [29] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 335
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 385
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 394 - 402

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 408 - 420
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method wxpay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 385
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.010000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T15:43:17+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.200000s][吞吐率：5.00req/s] [内存消耗：1,584.33kb] [文件加载：40]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'wxpay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '15e16759-6c08-448a-a4c0-dcae21f31fda',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-429

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [29] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 335
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 385
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 394 - 402

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 408 - 420
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method wxpay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 385
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.010000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T15:55:55+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.274000s][吞吐率：3.65req/s] [内存消耗：1,637.33kb] [文件加载：45]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'wxpay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'c41e0d42-f1b8-4ff7-bcf3-14e5419c784a',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-445

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [30] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 335
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 394
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 396 - 401

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 410 - 418

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 424 - 436
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method wxpay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 394
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.008000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.000000s ]
[ error ] [8]未定义数组索引: prepay_id[D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php:387]

---------------------------------------------------------------
[ 2018-12-29T16:24:15+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57
[ log ] shop.test/index.php/app/Order/wxpay_before?token=29895294017e9bd2b13c37d7235c136662697221&order_id=57 [运行时间：0.236000s][吞吐率：4.24req/s] [内存消耗：1,643.80kb] [文件加载：45]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'wxpay_before',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '348c4438-b28d-49ed-b0ef-43f4d55685e7',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'order_id' => '57',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-495

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [32] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 60
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 153
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 161 - 181
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 189 - 202
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 210 - 227
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 235 - 282
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 290 - 336
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 344 - 395
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 397 - 402

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 405 - 431
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 440 - 448

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 454 - 466
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 473 - 488

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method wxpay_before ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 344 - 395
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_order` [ RunTime:0.011000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_order` WHERE  `mid` = 22  AND `id` = 57 LIMIT 1     [ RunTime:0.000000s ]
[ error ] [8]未定义数组索引: prepay_id[D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php:388]

---------------------------------------------------------------
[ 2018-12-29T17:37:27+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=337d904511fd8757c951544bac8c91d1e9d6de7b&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=337d904511fd8757c951544bac8c91d1e9d6de7b&trans_type=1 [运行时间：0.032000s][吞吐率：31.25req/s] [内存消耗：1,561.32kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '1b3aa87b-b372-46b0-a847-4a9bd08887c6',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '337d904511fd8757c951544bac8c91d1e9d6de7b',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-574

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [32] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 59
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 68 - 152
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 160 - 180
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 188 - 201
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 209 - 226
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 234 - 281
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 289 - 335
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 394
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 396 - 401

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 404 - 430
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 439 - 447

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 453 - 465
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 472 - 567

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 59
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.008000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '337d904511fd8757c951544bac8c91d1e9d6de7b' LIMIT 1    [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T17:37:36+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.112000s][吞吐率：8.93req/s] [内存消耗：1,573.63kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '63cac2ee-4080-4d6a-b657-7ca8fa1750c8',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-574

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [32] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 59
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 68 - 152
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 160 - 180
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 188 - 201
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 209 - 226
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 234 - 281
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 289 - 335
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 343 - 394
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 396 - 401

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 404 - 430
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 439 - 447

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 453 - 465
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 472 - 567

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 59
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.070000s ]

---------------------------------------------------------------
[ 2018-12-29T18:37:47+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.072000s][吞吐率：13.89req/s] [内存消耗：1,588.64kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'abea8fec-d29f-4a53-a5b6-9a30f7d57680',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-696

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 61
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 67 - 180

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 190 - 274
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 282 - 302
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 310 - 323
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 331 - 348
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 356 - 403
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 411 - 457
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 465 - 516
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 518 - 523

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 526 - 552
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 561 - 569

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 575 - 587
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 594 - 689

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 61
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.008000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_template` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  `is_common` = 1 LIMIT 1    [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T18:40:52+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.075000s][吞吐率：13.33req/s] [内存消耗：1,588.64kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '21dd48eb-e410-4c3b-8284-ef786fe5f7e5',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-696

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 61
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 67 - 180

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 190 - 274
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 282 - 302
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 310 - 323
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 331 - 348
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 356 - 403
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 411 - 457
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 465 - 516
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 518 - 523

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 526 - 552
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 561 - 569

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 575 - 587
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 594 - 689

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 61
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.011000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_template` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  `is_common` = 1 LIMIT 1    [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T18:42:17+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.049000s][吞吐率：20.41req/s] [内存消耗：1,587.29kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '217a2b0f-0d24-45ed-93e5-3e96b2f70e06',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-697

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 62
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 68 - 181

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 191 - 275
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 283 - 303
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 311 - 324
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 332 - 349
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 357 - 404
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 412 - 458
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 466 - 517
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 519 - 524

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 527 - 553
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 562 - 570

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 576 - 588
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 595 - 690

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 62
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.010000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T18:43:25+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.065000s][吞吐率：15.38req/s] [内存消耗：1,588.64kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '06507551-bd21-4d52-98c2-b55ebf415f18',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-697

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 62
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 68 - 181

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 191 - 275
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 283 - 303
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 311 - 324
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 332 - 349
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 357 - 404
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 412 - 458
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 466 - 517
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 519 - 524

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 527 - 553
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 562 - 570

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 576 - 588
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 595 - 690

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 62
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.011000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_template` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  `is_common` = 1 LIMIT 1    [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T18:43:51+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.074000s][吞吐率：13.51req/s] [内存消耗：1,589.69kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '8c81a26e-48e9-4831-a16a-8b3d118e40c5',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-698

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 63
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 182

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 192 - 276
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 284 - 304
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 312 - 325
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 333 - 350
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 358 - 405
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 413 - 459
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 467 - 518
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 520 - 525

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 528 - 554
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 563 - 571

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 577 - 589
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 596 - 691

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 63
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_template` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  `is_common` = 1 LIMIT 1    [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T18:44:21+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Cart/add_cart?token=337d904511fd8757c951544bac8c91d1e9d6de7b&deviceid=0&goods_id=52&info_id=1&goods_sum=2
[ log ] shop.test/index.php/app/Cart/add_cart?token=337d904511fd8757c951544bac8c91d1e9d6de7b&deviceid=0&goods_id=52&info_id=1&goods_sum=2 [运行时间：0.043000s][吞吐率：23.26req/s] [内存消耗：1,513.23kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Cart',
    2 => 'add_cart',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'b3305ecf-4dbe-4bef-9a19-6fc4a900e0f4',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '337d904511fd8757c951544bac8c91d1e9d6de7b',
  'deviceid' => '0',
  'goods_id' => '52',
  'info_id' => '1',
  'goods_sum' => '2',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Cart extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Cart.php 12-186

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     *购物车商品列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method index ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Cart.php 20 - 48
    }

    /**
     *添加购物车
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add_cart ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Cart.php 56 - 87
    }

    /**
     *购物车数量删减
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method down_cart ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Cart.php 95 - 116
    }

    /**
     *删除购物车
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Cart.php 124 - 136
    }

    /**
     *更改购物车清单状态，1：选中结算，0：暂不结算
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method update_cart_status ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Cart.php 144 - 160
    }

    /**
     *购物车全选，全不选，设置购物车清单选中状态
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method choose ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Cart.php 168 - 182
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *添加购物车
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method add_cart ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Cart.php 56 - 87
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '337d904511fd8757c951544bac8c91d1e9d6de7b' LIMIT 1    [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T18:44:30+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Cart/add_cart?token=29895294017e9bd2b13c37d7235c136662697221&deviceid=0&goods_id=52&info_id=1&goods_sum=2
[ log ] shop.test/index.php/app/Cart/add_cart?token=29895294017e9bd2b13c37d7235c136662697221&deviceid=0&goods_id=52&info_id=1&goods_sum=2 [运行时间：0.035000s][吞吐率：28.57req/s] [内存消耗：1,481.79kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Cart',
    2 => 'add_cart',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'b8f54f26-df25-402e-9efb-fb4a909c45ee',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'deviceid' => '0',
  'goods_id' => '52',
  'info_id' => '1',
  'goods_sum' => '2',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Cart extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Cart.php 12-186

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [25] {
    /**
     *购物车商品列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method index ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Cart.php 20 - 48
    }

    /**
     *添加购物车
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add_cart ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Cart.php 56 - 87
    }

    /**
     *购物车数量删减
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method down_cart ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Cart.php 95 - 116
    }

    /**
     *删除购物车
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Cart.php 124 - 136
    }

    /**
     *更改购物车清单状态，1：选中结算，0：暂不结算
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method update_cart_status ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Cart.php 144 - 160
    }

    /**
     *购物车全选，全不选，设置购物车清单选中状态
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method choose ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Cart.php 168 - 182
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *添加购物车
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method add_cart ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Cart.php 56 - 87
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.010000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_goods_cart` WHERE  `mid` = 22  AND `goods_id` = 52 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] INSERT INTO `oc_goods_cart` (`mid` , `deviceid` , `goods_id` , `info_id` , `goods_sum` , `create_time` , `status`) VALUES (22 , '0' , 52 , 1 , 2 , 1546080270 , 1)         [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T18:44:54+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.047000s][吞吐率：21.28req/s] [内存消耗：1,588.35kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '96a57e87-3687-4a8d-98d5-f8ade8ea9ce2',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-698

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 63
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 69 - 182

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 192 - 276
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 284 - 304
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 312 - 325
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 333 - 350
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 358 - 405
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 413 - 459
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 467 - 518
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 520 - 525

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 528 - 554
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 563 - 571

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 577 - 589
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 596 - 691

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 63
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.008000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T18:45:44+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.065000s][吞吐率：15.38req/s] [内存消耗：1,590.87kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '57ef8bab-04c9-4bc1-b42c-0409469387b9',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-700

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 184

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 194 - 278
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 286 - 306
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 314 - 327
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 335 - 352
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 360 - 407
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 415 - 461
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 469 - 520
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 522 - 527

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 530 - 556
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 565 - 573

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 579 - 591
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 598 - 693

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.010000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_template` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  `is_common` = 1 LIMIT 1    [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T18:47:15+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.062000s][吞吐率：16.13req/s] [内存消耗：1,590.90kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'a103106b-5586-49ba-ab28-912a5513e233',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-701

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 66
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 72 - 185

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 195 - 279
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 287 - 307
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 315 - 328
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 336 - 353
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 361 - 408
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 416 - 462
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 470 - 521
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 523 - 528

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 531 - 557
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 566 - 574

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 580 - 592
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 599 - 694

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 66
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_template` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  `is_common` = 1 LIMIT 1    [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T18:48:11+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.048000s][吞吐率：20.83req/s] [内存消耗：1,583.90kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '7f772f28-80b9-4ea4-b455-937fde8aafe6',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-701

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 185

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 195 - 279
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 287 - 307
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 315 - 328
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 336 - 353
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 361 - 408
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 416 - 462
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 470 - 521
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 523 - 528

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 531 - 557
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 566 - 574

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 580 - 592
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 599 - 694

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.002000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.010000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.011000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T18:48:41+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.055000s][吞吐率：18.18req/s] [内存消耗：1,591.06kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '9f67f2bb-6be1-453c-bfdb-87dae624a153',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-701

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 185

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 195 - 279
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 287 - 307
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 315 - 328
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 336 - 353
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 361 - 408
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 416 - 462
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 470 - 521
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 523 - 528

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 531 - 557
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 566 - 574

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 580 - 592
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 599 - 694

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.010000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T18:49:16+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.056000s][吞吐率：17.86req/s] [内存消耗：1,588.52kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '3041902f-721a-4c5b-b0a0-a288ebe2895c',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-701

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 185

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 195 - 279
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 287 - 307
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 315 - 328
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 336 - 353
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 361 - 408
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 416 - 462
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 470 - 521
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 523 - 528

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 531 - 557
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 566 - 574

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 580 - 592
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 599 - 694

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T18:50:07+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.053000s][吞吐率：18.87req/s] [内存消耗：1,588.89kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '8718f26f-3b66-410c-a6a8-2583ba2f33ac',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-701

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 185

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 195 - 279
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 287 - 307
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 315 - 328
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 336 - 353
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 361 - 408
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 416 - 462
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 470 - 521
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 523 - 528

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 531 - 557
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 566 - 574

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 580 - 592
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 599 - 694

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T18:53:39+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.071000s][吞吐率：14.08req/s] [内存消耗：1,641.88kb] [文件加载：43]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'd1ef4543-6152-42bb-8db1-c45b3da3bdce',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-701

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 185

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 195 - 279
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 287 - 307
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 315 - 328
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 336 - 353
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 361 - 408
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 416 - 462
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 470 - 521
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 523 - 528

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 531 - 557
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 566 - 574

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 580 - 592
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 599 - 694

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.009000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_template` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  `store_id` = 3 LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  (  is_common=1 ) LIMIT 1   [ RunTime:0.001000s ]
[ error ] [8]未定义变量: freecharge_value[D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php:174]

---------------------------------------------------------------
[ 2018-12-29T18:54:27+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.061000s][吞吐率：16.39req/s] [内存消耗：1,590.16kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'fbd87a5e-46b8-48a5-ae2f-1d9bb42f9a80',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-701

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 185

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 195 - 279
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 287 - 307
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 315 - 328
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 336 - 353
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 361 - 408
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 416 - 462
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 470 - 521
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 523 - 528

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 531 - 557
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 566 - 574

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 580 - 592
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 599 - 694

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_template` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  `store_id` = 3 LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  (  is_common=1 ) LIMIT 1   [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T18:54:59+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.066000s][吞吐率：15.15req/s] [内存消耗：1,589.73kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '5d7ff15c-7d1b-43f3-abe3-a23c0aefda0f',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-702

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 186

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 196 - 280
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 288 - 308
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 316 - 329
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 337 - 354
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 362 - 409
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 417 - 463
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 471 - 522
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 524 - 529

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 532 - 558
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 567 - 575

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 581 - 593
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 600 - 695

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.010000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T18:55:17+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.064000s][吞吐率：15.62req/s] [内存消耗：1,590.20kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '8794f423-abd2-41dc-a91f-bf1635851d53',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-702

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 186

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 196 - 280
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 288 - 308
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 316 - 329
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 337 - 354
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 362 - 409
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 417 - 463
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 471 - 522
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 524 - 529

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 532 - 558
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 567 - 575

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 581 - 593
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 600 - 695

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_template` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  `store_id` = 3 LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  (  is_common=1 ) LIMIT 1   [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T18:57:15+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.072000s][吞吐率：13.89req/s] [内存消耗：1,590.20kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'e940ba3a-15a8-40ba-a225-2d985f5e3ab6',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-702

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 186

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 196 - 280
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 288 - 308
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 316 - 329
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 337 - 354
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 362 - 409
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 417 - 463
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 471 - 522
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 524 - 529

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 532 - 558
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 567 - 575

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 581 - 593
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 600 - 695

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_template` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  `store_id` = 3 LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  (  is_common=1 ) LIMIT 1   [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T18:58:18+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.070000s][吞吐率：14.29req/s] [内存消耗：1,590.12kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '2f805429-f540-4ae6-8c47-0035227e01b0',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-702

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 186

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 196 - 280
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 288 - 308
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 316 - 329
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 337 - 354
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 362 - 409
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 417 - 463
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 471 - 522
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 524 - 529

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 532 - 558
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 567 - 575

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 581 - 593
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 600 - 695

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_template` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  `store_id` = 3 LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  (  is_common=1 ) LIMIT 1   [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T18:58:46+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.072000s][吞吐率：13.89req/s] [内存消耗：1,590.15kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'd02df28e-9830-442c-b8b6-7e9bee5cc866',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-703

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 66
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 72 - 187

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 197 - 281
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 289 - 309
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 317 - 330
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 338 - 355
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 363 - 410
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 418 - 464
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 472 - 523
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 525 - 530

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 533 - 559
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 568 - 576

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 582 - 594
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 601 - 696

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 66
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_template` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  `store_id` = 3 LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  (  is_common=1 ) LIMIT 1   [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T18:59:58+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.069000s][吞吐率：14.49req/s] [内存消耗：1,590.15kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'bb7e50aa-84f8-4eaa-a3a3-9af81ab40e16',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-703

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 66
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 72 - 187

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 197 - 281
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 289 - 309
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 317 - 330
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 338 - 355
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 363 - 410
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 418 - 464
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 472 - 523
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 525 - 530

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 533 - 559
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 568 - 576

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 582 - 594
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 601 - 696

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 66
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.011000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.010000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_template` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  `store_id` = 3 LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  (  is_common=1 ) LIMIT 1   [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T19:00:13+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.058000s][吞吐率：17.24req/s] [内存消耗：1,590.15kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '7f7aaf80-cefa-413f-90f9-1da65dd7bc95',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-703

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 66
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 72 - 187

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 197 - 281
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 289 - 309
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 317 - 330
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 338 - 355
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 363 - 410
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 418 - 464
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 472 - 523
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 525 - 530

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 533 - 559
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 568 - 576

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 582 - 594
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 601 - 696

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 66
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_template` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  `store_id` = 3 LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  (  is_common=1 ) LIMIT 1   [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T19:00:30+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.051000s][吞吐率：19.61req/s] [内存消耗：1,588.88kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '24fd4f6b-2976-4502-b342-920de4741445',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-703

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 66
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 72 - 187

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 197 - 281
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 289 - 309
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 317 - 330
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 338 - 355
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 363 - 410
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 418 - 464
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 472 - 523
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 525 - 530

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 533 - 559
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 568 - 576

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 582 - 594
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 601 - 696

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 66
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T19:01:07+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.049000s][吞吐率：20.41req/s] [内存消耗：1,588.61kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '768c561e-6b60-4e29-91d3-ff86c623b4d9',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-702

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 186

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 196 - 280
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 288 - 308
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 316 - 329
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 337 - 354
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 362 - 409
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 417 - 463
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 471 - 522
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 524 - 529

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 532 - 558
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 567 - 575

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 581 - 593
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 600 - 695

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.008000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T19:01:27+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.040000s][吞吐率：25.00req/s] [内存消耗：1,588.61kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'fdc108b6-12f2-4f62-b37a-c5e169572af1',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-702

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 186

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 196 - 280
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 288 - 308
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 316 - 329
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 337 - 354
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 362 - 409
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 417 - 463
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 471 - 522
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 524 - 529

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 532 - 558
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 567 - 575

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 581 - 593
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 600 - 695

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T19:03:34+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.070000s][吞吐率：14.29req/s] [内存消耗：1,589.09kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '910dc585-91a5-41b5-b350-3d18027f3269',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-702

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 186

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 196 - 280
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 288 - 308
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 316 - 329
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 337 - 354
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 362 - 409
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 417 - 463
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 471 - 522
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 524 - 529

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 532 - 558
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 567 - 575

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 581 - 593
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 600 - 695

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.021000s ]

---------------------------------------------------------------
[ 2018-12-29T19:03:42+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=1 [运行时间：0.064000s][吞吐率：15.63req/s] [内存消耗：1,590.59kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '6a6a3791-108c-4226-b981-0a8eb80c106f',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '1',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-702

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 186

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 196 - 280
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 288 - 308
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 316 - 329
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 337 - 354
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 362 - 409
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 417 - 463
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 471 - 522
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 524 - 529

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 532 - 558
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 567 - 575

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 581 - 593
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 600 - 695

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.010000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_template` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  `store_id` = 3 LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_template` WHERE  (  is_common=1 ) LIMIT 1   [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T19:12:18+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3 [运行时间：0.072000s][吞吐率：13.89req/s] [内存消耗：1,595.09kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'eab25b4d-9c31-4781-958a-7d72667f97ae',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '3',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-702

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 186

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 196 - 280
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 288 - 308
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 316 - 329
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 337 - 354
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 362 - 409
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 417 - 463
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 471 - 522
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 524 - 529

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 532 - 558
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 567 - 575

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 581 - 593
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 600 - 695

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.009000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_trans_template` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_trans_template` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0  AND `store_id` = 3 LIMIT 1       [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T19:13:17+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3 [运行时间：0.048000s][吞吐率：20.83req/s] [内存消耗：1,589.10kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'a84c9d35-9c12-4874-baa5-539396da8b9a',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '3',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-703

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 187

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 197 - 281
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 289 - 309
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 317 - 330
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 338 - 355
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 363 - 410
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 418 - 464
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 472 - 523
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 525 - 530

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 533 - 559
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 568 - 576

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 582 - 594
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 601 - 696

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.010000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T19:14:38+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3 [运行时间：0.070000s][吞吐率：14.29req/s] [内存消耗：1,595.14kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '331e75a4-8253-4dbc-b00a-f9baeaed8c1b',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '3',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-703

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 187

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 197 - 281
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 289 - 309
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 317 - 330
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 338 - 355
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 363 - 410
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 418 - 464
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 472 - 523
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 525 - 530

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 533 - 559
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 568 - 576

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 582 - 594
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 601 - 696

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_trans_template` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_trans_template` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0  AND `store_id` = 3 LIMIT 1       [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T19:14:59+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3 [运行时间：0.049000s][吞吐率：20.41req/s] [内存消耗：1,584.34kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '800fb3af-8288-4dfc-a065-1218e03c49b3',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '3',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-703

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 187

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 197 - 281
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 289 - 309
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 317 - 330
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 338 - 355
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 363 - 410
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 418 - 464
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 472 - 523
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 525 - 530

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 533 - 559
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 568 - 576

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 582 - 594
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 601 - 696

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T19:15:15+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3 [运行时间：0.044000s][吞吐率：22.73req/s] [内存消耗：1,591.50kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'd70f8778-857f-4948-bde5-3838647e4948',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '3',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-703

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 187

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 197 - 281
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 289 - 309
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 317 - 330
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 338 - 355
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 363 - 410
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 418 - 464
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 472 - 523
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 525 - 530

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 533 - 559
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 568 - 576

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 582 - 594
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 601 - 696

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T19:15:28+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3 [运行时间：0.047000s][吞吐率：21.28req/s] [内存消耗：1,591.50kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '9fc67323-febd-4b0f-8362-b4f973e554b5',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '3',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-702

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 186

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 196 - 280
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 288 - 308
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 316 - 329
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 337 - 354
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 362 - 409
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 417 - 463
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 471 - 522
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 524 - 529

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 532 - 558
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 567 - 575

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 581 - 593
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 600 - 695

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T19:15:33+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3 [运行时间：0.047000s][吞吐率：21.28req/s] [内存消耗：1,591.50kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '2a08b7a6-96e9-4cfd-b5ff-97306f7cdc3b',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '3',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-702

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 186

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 196 - 280
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 288 - 308
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 316 - 329
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 337 - 354
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 362 - 409
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 417 - 463
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 471 - 522
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 524 - 529

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 532 - 558
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 567 - 575

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 581 - 593
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 600 - 695

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T19:15:37+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3 [运行时间：0.049000s][吞吐率：20.41req/s] [内存消耗：1,591.50kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '875c1b89-45e6-4acf-895d-1131cba4797a',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '3',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-702

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 186

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 196 - 280
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 288 - 308
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 316 - 329
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 337 - 354
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 362 - 409
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 417 - 463
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 471 - 522
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 524 - 529

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 532 - 558
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 567 - 575

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 581 - 593
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 600 - 695

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T19:15:52+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3 [运行时间：0.063000s][吞吐率：15.87req/s] [内存消耗：1,590.17kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'cf742354-98e2-4df5-a440-aaf5b3ea50fc',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '3',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-701

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 185

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 195 - 279
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 287 - 307
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 315 - 328
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 336 - 353
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 361 - 408
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 416 - 462
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 470 - 521
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 523 - 528

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 531 - 557
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 566 - 574

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 580 - 592
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 599 - 694

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T19:16:29+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3 [运行时间：0.065000s][吞吐率：15.38req/s] [内存消耗：1,590.17kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => 'd3c97040-5496-4717-ab9b-ff5b5e2b9b71',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '3',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-702

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 186

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 196 - 280
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 288 - 308
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 316 - 329
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 337 - 354
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 362 - 409
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 417 - 463
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 471 - 522
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 524 - 529

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 532 - 558
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 567 - 575

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 581 - 593
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 600 - 695

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T19:16:45+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3 [运行时间：0.064000s][吞吐率：15.63req/s] [内存消耗：1,590.17kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '57573a20-05c6-4126-a1b7-80bbe174fcdf',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '3',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-702

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 186

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 196 - 280
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 288 - 308
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 316 - 329
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 337 - 354
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 362 - 409
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 417 - 463
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 471 - 522
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 524 - 529

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 532 - 558
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 567 - 575

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 581 - 593
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 600 - 695

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T19:16:57+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3 [运行时间：0.009000s][吞吐率：111.11req/s] [内存消耗：715.18kb] [文件加载：27]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '7b7037c6-0f1c-481b-a00e-e57791b84232',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '3',
)
[ info ] [ LOG ] INIT File
[ error ] [0]语法解析错误: syntax error, unexpected 'var_dump' (T_STRING), expecting case (T_CASE) or default (T_DEFAULT) or '}'[D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php:132]

---------------------------------------------------------------
[ 2018-12-29T19:17:26+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3 [运行时间：0.076000s][吞吐率：13.16req/s] [内存消耗：1,596.53kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '0f125f24-2898-4313-86ff-dde23f6197f5',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '3',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-702

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 186

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 196 - 280
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 288 - 308
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 316 - 329
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 337 - 354
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 362 - 409
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 417 - 463
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 471 - 522
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 524 - 529

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 532 - 558
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 567 - 575

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 581 - 593
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 600 - 695

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.012000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.011000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_trans_template` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_trans_template` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0  AND `store_id` = 3 LIMIT 1       [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T19:18:24+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3 [运行时间：0.073000s][吞吐率：13.70req/s] [内存消耗：1,596.53kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '9a79a247-992d-4089-a16d-1c20bb85f98b',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '3',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-703

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 187

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 197 - 281
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 289 - 309
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 317 - 330
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 338 - 355
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 363 - 410
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 418 - 464
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 472 - 523
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 525 - 530

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 533 - 559
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 568 - 576

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 582 - 594
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 601 - 696

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.006000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_trans_template` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_trans_template` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0  AND `store_id` = 3 LIMIT 1       [ RunTime:0.000000s ]

---------------------------------------------------------------
[ 2018-12-29T19:20:36+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3
[ log ] shop.test/index.php/app/Order/order_confirm?token=29895294017e9bd2b13c37d7235c136662697221&trans_type=3 [运行时间：0.075000s][吞吐率：13.33req/s] [内存消耗：1,596.53kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Order',
    2 => 'order_confirm',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '50a2c173-4335-4d7a-8f9a-eebc602a4dfc',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'token' => '29895294017e9bd2b13c37d7235c136662697221',
  'trans_type' => '3',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Order extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 15-702

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [33] {
    /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_confirm ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
    }

    Method [ <user> public method transport_count ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 71 - 186

      - Parameters [3] {
        Parameter #0 [ <required> $mid ]
        Parameter #1 [ <required> $total_sum ]
        Parameter #2 [ <optional> $trans_type = 1 ]
      }
    }

    /**
     * @desc 提交订单
     * $trans_type:1：通用，2：仓库配送，3：物流配送
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method add ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 196 - 280
    }

    /**
     * @desc 订单列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method order_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 288 - 308
    }

    /**
     * @desc 取消订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cancel ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 316 - 329
    }

    /**
     * @desc 删除订单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method delete ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 337 - 354
    }

    /**
     *支付宝支付
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 362 - 409
    }

    /**
     *支付宝支付通知
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method alipay_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 417 - 463
    }

    /**
     *微信支付 统一下单
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method wxpay_before ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 471 - 522
    }

    Method [ <user> public method wxpay_getOrder ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 524 - 529

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    Method [ <user> public method weixin_notify_url ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 532 - 558
    }

    /**
     *
     * 产生随机字符串，不长于32位
     * @param int $length
     * @return 产生的随机字符串
     */
    Method [ <user> public method getNonceStr ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 567 - 575

      - Parameters [1] {
        Parameter #0 [ <optional> $length = 32 ]
      }
    }

    Method [ <user> public method get_client_ip ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 581 - 593
    }

    /**
     分销清算：分销商（上线），代理商资金清算，走订单清算
     * $type=1,订单完成分销清算，$type=2,退回订单，分销清算
     */
    Method [ <user> public method fenxiao_account ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 600 - 695

      - Parameters [2] {
        Parameter #0 [ <optional> $order_sn = '' ]
        Parameter #1 [ <optional> $type = 1 ]
      }
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     * @desc 订单确认
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method order_confirm ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Order.php 23 - 65
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.008000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_tokens` [ RunTime:0.009000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_tokens` WHERE  `token` = '29895294017e9bd2b13c37d7235c136662697221' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_member_address` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_cart` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT a.*,c.goods_name,b.price,b.standard_value1,b.standard_value2,b.standard_value3,e.url,(a.goods_sum*b.price) as sum_price FROM oc_goods_cart a LEFT JOIN oc_goods b ON a.goods_id = b.id LEFT JOIN oc_goods_info c ON b.info_id = c.id LEFT JOIN oc_goods_gallery d ON c.id = d.info_id LEFT JOIN oc_admin_upload e ON d.cover = e.id  WHERE  a.mid = 22  AND a.status = 1  AND a.goods_sum > 0 GROUP BY a.goods_id ORDER BY a.create_time  asc  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_admin_config` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT `value` FROM `oc_admin_config` WHERE  `name` = 'freecharge' LIMIT 1    [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_member_address` WHERE  `mid` = 22  AND `is_default` = 1 LIMIT 1     [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_store_area` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_store_area` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0 LIMIT 1      [ RunTime:0.001000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_trans_template` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_trans_template` WHERE  `pos_province` = 0  AND `pos_city` = 0  AND `pos_district` = 0  AND `store_id` = 3 LIMIT 1       [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T21:21:46+08:00 ] 127.0.0.1 127.0.0.1 GET /index.php/app/Index/index
[ log ] shop.test/index.php/app/Index/index [运行时间：0.066000s][吞吐率：15.15req/s] [内存消耗：1,528.87kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '2ab801a9-e844-4ea6-89e1-414ff7d419f0',
  'cache-control' => 'no-cache',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Index extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 13-201

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [24] {
    /**
     *首页数据列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method index ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 20 - 52
    }

    /**
     *商品顶级分类列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cate_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 60 - 75
    }

    /**
     *商品二级分类列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method children_cate_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 83 - 96
    }

    /**
     *商品分类下的商品列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cate_goodlist ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 104 - 133
    }

    /**
     *商品详情
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method goods_info ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 141 - 190
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *首页数据列表
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method index ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 20 - 52
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_app_ads` [ RunTime:0.013000s ]
[ sql ] [ SQL ] SELECT a.*,b.url FROM oc_app_ads a INNER JOIN oc_admin_upload b ON a.cover = b.id  WHERE  a.group_id = 1  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SELECT a.*,b.url FROM oc_app_ads a INNER JOIN oc_admin_upload b ON a.cover = b.id  WHERE  a.group_id = 2  [ RunTime:0.000000s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_info` [ RunTime:0.008000s ]
[ sql ] [ SQL ] SELECT a.id,a.goods_name,a.cate_id,a.price,a.costprice,b.cover,c.url FROM oc_goods_info a LEFT JOIN oc_goods_gallery b ON a.id = b.info_id LEFT JOIN oc_admin_upload c ON b.cover = c.id  WHERE  a.putway = 1 GROUP BY a.id ORDER BY a.id  desc  [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T21:23:58+08:00 ] 127.0.0.1 127.0.0.1 GET /index.php/app/Index/cate_list
[ log ] shop.test/index.php/app/Index/cate_list [运行时间：0.091000s][吞吐率：10.99req/s] [内存消耗：1,521.05kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Index',
    2 => 'cate_list',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '70dafa1d-908d-475b-b58c-f355ceaf6614',
  'cache-control' => 'no-cache',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Index extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 13-201

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [24] {
    /**
     *首页数据列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method index ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 20 - 52
    }

    /**
     *商品顶级分类列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cate_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 60 - 75
    }

    /**
     *商品二级分类列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method children_cate_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 83 - 96
    }

    /**
     *商品分类下的商品列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cate_goodlist ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 104 - 133
    }

    /**
     *商品详情
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method goods_info ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 141 - 190
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *商品顶级分类列表
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method cate_list ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 60 - 75
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_category` [ RunTime:0.063000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_goods_category` WHERE  `pid` = 0 ORDER BY sort   [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_goods_category` WHERE  `pid` = 59 LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_goods_category` WHERE  `pid` = 63 LIMIT 1    [ RunTime:0.001000s ]

---------------------------------------------------------------
[ 2018-12-29T21:24:05+08:00 ] 127.0.0.1 127.0.0.1 POST /index.php/app/Index/children_cate_list?cate_id=59
[ log ] shop.test/index.php/app/Index/children_cate_list?cate_id=59 [运行时间：0.047000s][吞吐率：21.28req/s] [内存消耗：1,522.06kb] [文件加载：38]
[ info ] [ LANG ] D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'app',
    1 => 'Index',
    2 => 'children_cate_list',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'close',
  'accept-encoding' => 'gzip, deflate',
  'cookie' => 'PHPSESSID=js45blmei88l6o091prtemeoh4',
  'host' => 'shop.test',
  'accept' => '*/*',
  'user-agent' => 'PostmanRuntime/7.4.0',
  'postman-token' => '7b61d902-e0c4-49bd-8fa2-1883b866b2ac',
  'cache-control' => 'no-cache',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
  'cate_id' => '59',
)
[ info ] [ RUN ] Class [ <user> class app\app\controller\Index extends app\app\controller\Base ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 13-201

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [5] {
    Property [ <default> protected $view ]
    Property [ <default> protected $request ]
    Property [ <default> protected $failException ]
    Property [ <default> protected $batchValidate ]
    Property [ <default> protected $beforeActionList ]
  }

  - Methods [24] {
    /**
     *首页数据列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method index ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 20 - 52
    }

    /**
     *商品顶级分类列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cate_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 60 - 75
    }

    /**
     *商品二级分类列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method children_cate_list ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 83 - 96
    }

    /**
     *商品分类下的商品列表
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method cate_goodlist ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 104 - 133
    }

    /**
     *商品详情
     * @author wangchunjing
     * return array|false|string
     */
    Method [ <user> public method goods_info ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 141 - 190
    }

    /**
     * 解决跨域
     * @author wangchunjing
     * @return array|string
     */
    Method [ <user, inherits app\app\controller\Base, prototype think\Controller> protected method _initialize ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 22 - 30
    }

    /**
     * 设置登录令牌（token）
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method auto_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 36 - 41

      - Parameters [2] {
        Parameter #0 [ <required> $id ]
        Parameter #1 [ <required> $mobile ]
      }
    }

    /**
     * 数据签名认证
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method data_auth_sign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 48 - 59

      - Parameters [1] {
        Parameter #0 [ <required> $data ]
      }
    }

    /**
     * service端检测逻辑，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method is_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 66 - 77
    }

    /**
     * app端检测用户是否登录，保留接口
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method check_login ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 84 - 92
    }

    /**
     * 退出
     * @author wangchunjing
     */
    Method [ <user, inherits app\app\controller\Base> public method logout ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Base.php 99 - 107
    }

    /**
     * 架构函数
     * @param Request $request Request对象
     * @access public
     */
    Method [ <user, inherits think\Controller, ctor> public method __construct ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 44 - 63

      - Parameters [1] {
        Parameter #0 [ <optional> think\Request or NULL $request = NULL ]
      }
    }

    /**
     * 前置操作
     * @access protected
     * @param string $method  前置操作方法名
     * @param array  $options 调用参数 ['only'=>[...]] 或者['except'=>[...]]
     */
    Method [ <user, inherits think\Controller> protected method beforeAction ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 76 - 95

      - Parameters [2] {
        Parameter #0 [ <required> $method ]
        Parameter #1 [ <optional> $options = Array ]
      }
    }

    /**
     * 加载模板输出
     * @access protected
     * @param string $template 模板文件名
     * @param array  $vars     模板输出变量
     * @param array  $replace  模板替换
     * @param array  $config   模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method fetch ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 106 - 109

      - Parameters [4] {
        Parameter #0 [ <optional> $template = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 渲染内容输出
     * @access protected
     * @param string $content 模板内容
     * @param array  $vars    模板输出变量
     * @param array  $replace 替换内容
     * @param array  $config  模板参数
     * @return mixed
     */
    Method [ <user, inherits think\Controller> protected method display ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 120 - 123

      - Parameters [4] {
        Parameter #0 [ <optional> $content = '' ]
        Parameter #1 [ <optional> $vars = Array ]
        Parameter #2 [ <optional> $replace = Array ]
        Parameter #3 [ <optional> $config = Array ]
      }
    }

    /**
     * 模板变量赋值
     * @access protected
     * @param mixed $name  要显示的模板变量
     * @param mixed $value 变量的值
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method assign ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 132 - 135

      - Parameters [2] {
        Parameter #0 [ <required> $name ]
        Parameter #1 [ <optional> $value = '' ]
      }
    }

    /**
     * 初始化模板引擎
     * @access protected
     * @param array|string $engine 引擎参数
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method engine ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 143 - 146

      - Parameters [1] {
        Parameter #0 [ <required> $engine ]
      }
    }

    /**
     * 设置验证失败后是否抛出异常
     * @access protected
     * @param bool $fail 是否抛出异常
     * @return $this
     */
    Method [ <user, inherits think\Controller> protected method validateFailException ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 154 - 158

      - Parameters [1] {
        Parameter #0 [ <optional> $fail = true ]
      }
    }

    /**
     * 验证数据
     * @access protected
     * @param array        $data     数据
     * @param string|array $validate 验证器名或者验证规则数组
     * @param array        $message  提示信息
     * @param bool         $batch    是否批量验证
     * @param mixed        $callback 回调方法（闭包）
     * @return array|string|true
     * @throws ValidateException
     */
    Method [ <user, inherits think\Controller> protected method validate ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\think\Controller.php 171 - 208

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <required> $validate ]
        Parameter #2 [ <optional> $message = Array ]
        Parameter #3 [ <optional> $batch = false ]
        Parameter #4 [ <optional> $callback = NULL ]
      }
    }

    /**
     * 操作成功跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method success ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 37 - 64

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 操作错误跳转的快捷方法
     * @access protected
     * @param mixed     $msg 提示信息
     * @param string    $url 跳转的URL地址
     * @param mixed     $data 返回的数据
     * @param integer   $wait 跳转等待时间
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method error ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 76 - 103

      - Parameters [5] {
        Parameter #0 [ <optional> $msg = '' ]
        Parameter #1 [ <optional> $url = NULL ]
        Parameter #2 [ <optional> $data = '' ]
        Parameter #3 [ <optional> $wait = 2 ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * 返回封装后的API数据到客户端
     * @access protected
     * @param mixed     $data 要返回的数据
     * @param integer   $code 返回的code
     * @param mixed     $msg 提示信息
     * @param string    $type 返回数据格式
     * @param array     $header 发送的Header信息
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method result ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 115 - 126

      - Parameters [5] {
        Parameter #0 [ <required> $data ]
        Parameter #1 [ <optional> $code = 0 ]
        Parameter #2 [ <optional> $msg = '' ]
        Parameter #3 [ <optional> $type = '' ]
        Parameter #4 [ <optional> array $header = Array ]
      }
    }

    /**
     * URL重定向
     * @access protected
     * @param string         $url 跳转的URL表达式
     * @param array|integer  $params 其它URL参数
     * @param integer        $code http code
     * @return void
     */
    Method [ <user, inherits think\Controller> protected method redirect ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 136 - 145

      - Parameters [3] {
        Parameter #0 [ <required> $url ]
        Parameter #1 [ <optional> $params = Array ]
        Parameter #2 [ <optional> $code = 302 ]
      }
    }

    /**
     * 获取当前的response 输出类型
     * @access protected
     * @return string
     */
    Method [ <user, inherits think\Controller> protected method getResponseType ] {
      @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\thinkphp\library\traits\controller\Jump.php 152 - 156
    }
  }
}

[ info ] [ RUN ] /**
     *商品二级分类列表
     * @author wangchunjing
     * return array|false|string
     */
Method [ <user> public method children_cate_list ] {
  @@ D:\phpStudy\PHPTutorial\WWW\thinkphp\application\app\controller\Index.php 83 - 96
}

[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000000s ] mysql:dbname=test3;host=127.0.0.1;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `oc_goods_category` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT * FROM `oc_goods_category` WHERE  `pid` = 59 LIMIT 1    [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT a.*,b.url FROM oc_goods_category a INNER JOIN oc_admin_upload b ON a.cover = b.id  WHERE  a.pid = '59'  [ RunTime:0.024000s ]

---------------------------------------------------------------
